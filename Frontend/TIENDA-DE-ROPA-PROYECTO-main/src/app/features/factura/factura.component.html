<div class="loading-container" *ngIf="loading">
  <div class="loading-spinner">
    <p>Cargando factura...</p>
  </div>
</div>

<div class="factura-container" id="factura-pdf" *ngIf="factura && !loading">
  <div class="mensaje-exito">
    <h2>Factura generada, gracias por su compra</h2>
    <div class="detalles-factura">
      <p class="numero">Número de Factura: {{factura.numero_factura}}</p>
      <p class="email">Email: {{factura.email}}</p>
      <p class="fecha">Fecha: {{factura.fecha_factura | date:'dd/MM/yyyy HH:mm'}}</p>
      <p class="total">Total: ${{factura.monto_total | number:'1.2-2'}}</p>
    </div>
    <div class="items-factura" *ngIf="factura.items && factura.items.length > 0">
      <h3>Productos</h3>
      <div class="item" *ngFor="let item of factura.items">
        <span class="nombre">{{item.nombre}}</span>
        <span class="cantidad">x{{item.cantidad}}</span>
        <span class="precio">${{item.precio * item.cantidad | number:'1.2-2'}}</span>
      </div>
    </div>
    <div class="botones">
      <button class="descargar-btn" (click)="descargarPDF()">Descargar PDF</button>
      <button class="aceptar-btn" (click)="aceptar()">Aceptar</button>
    </div>
  </div>
</div>

<div class="error-container" *ngIf="error">
  <div class="mensaje-error">
    <h2>{{error}}</h2>
    <p>Serás redirigido al catálogo en unos segundos...</p>
  </div>
</div>
