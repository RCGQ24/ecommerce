<div class="supervisor-dashboard">
  <div class="stats-header">
    <div class="header-content">
      <h1>Panel de Supervisor</h1>
      <p class="subtitle">Estadísticas y Tendencias de Pagos</p>
    </div>
    <button class="logout-btn" (click)="logout()">
      <i class="fas fa-sign-out-alt"></i>
      Cerrar Sesión
    </button>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <h3>Total de Ventas</h3>
      <p class="amount">{{ stats.totalAmount ? '$' + stats.totalAmount.toFixed(2) : '$0.00' }}</p>
    </div>
    <div class="stat-card">
      <h3>Transacciones</h3>
      <p class="amount">{{ stats.totalTransactions || 0 }}</p>
    </div>
    <div class="stat-card">
      <h3>Promedio por Venta</h3>
      <p class="amount">{{ stats.averageAmount ? '$' + stats.averageAmount.toFixed(2) : '$0.00' }}</p>
    </div>
  </div>

  <div class="charts-container">
    <div class="chart-card">
      <h3>Métodos de Pago</h3>
      <div class="payment-methods">
        <div class="method-bar" *ngFor="let method of paymentMethods">
          <div class="method-label">{{ method.name }}</div>
          <div class="method-progress">
            <div class="progress-bar" [style.width.%]="method.percentage"></div>
          </div>
          <div class="method-value">{{ method.count }}</div>
        </div>
      </div>
    </div>

    <div class="chart-card">
      <h3>Tendencia Mensual</h3>
      <div class="monthly-trend">
        <div class="trend-bar" *ngFor="let trend of stats.monthlyTrends">
          <div class="bar-value" [style.height.%]="getTrendHeight(trend.amount)">
            <span class="tooltip">${{ trend.amount.toFixed(2) }}</span>
          </div>
          <div class="bar-label">{{ trend.month }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
